
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Custom Entities Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-theme-api/theme-api.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="catalog/" />
    
    
    <link rel="prev" href="multiple-services.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        <li class="header">User Guide</li>
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" >
            
                <span>
            
                    
                    Getting Started
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../start/running.html">
            
                <a href="../start/running.html">
            
                    
                    Running Apache Brooklyn
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../start/blueprints.html">
            
                <a href="../start/blueprints.html">
            
                    
                    Deploying Blueprints
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../start/managing.html">
            
                <a href="../start/managing.html">
            
                    
                    Monitoring and Managing Applications
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="../start/policies.html">
            
                <a href="../start/policies.html">
            
                    
                    Policies
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5" data-path="../start/concept-quickstart.html">
            
                <a href="../start/concept-quickstart.html">
            
                    
                    Concepts
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../misc/download.html">
            
                <a href="../misc/download.html">
            
                    
                    Downloads
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" >
            
                <span>
            
                    
                    Brooklyn Concepts
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../concepts/entities.html">
            
                <a href="../concepts/entities.html">
            
                    
                    Entities
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../concepts/application-parent-membership.html">
            
                <a href="../concepts/application-parent-membership.html">
            
                    
                    Application, Parent and Membership
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../concepts/configuration-sensor-effectors.html">
            
                <a href="../concepts/configuration-sensor-effectors.html">
            
                    
                    Configuration, Sensors and Effectors
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../concepts/lifecycle-managementcontext.html">
            
                <a href="../concepts/lifecycle-managementcontext.html">
            
                    
                    Lifecycle and ManagementContext
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="../concepts/dependent-configuration.html">
            
                <a href="../concepts/dependent-configuration.html">
            
                    
                    Dependent Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6" data-path="../concepts/location.html">
            
                <a href="../concepts/location.html">
            
                    
                    Location
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7" data-path="../concepts/policies.html">
            
                <a href="../concepts/policies.html">
            
                    
                    Policies
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8" data-path="../concepts/execution.html">
            
                <a href="../concepts/execution.html">
            
                    
                    Execution
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.9" data-path="../concepts/stop-start-restart-behaviour.html">
            
                <a href="../concepts/stop-start-restart-behaviour.html">
            
                    
                    Stop/start/restart behaviour
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="./">
            
                <a href="./">
            
                    
                    Writing Blueprints
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="creating-yaml.html">
            
                <a href="creating-yaml.html">
            
                    
                    Creating YAML Blueprint
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="entity-configuration.html">
            
                <a href="entity-configuration.html">
            
                    
                    Entity Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="setting-locations.html">
            
                <a href="setting-locations.html">
            
                    
                    Setting Locations
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="configuring-vms.html">
            
                <a href="configuring-vms.html">
            
                    
                    Configuring VMs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5" data-path="multiple-services.html">
            
                <a href="multiple-services.html">
            
                    
                    Multiple Services and Dependency Injection
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.5.6" data-path="custom-entities.html">
            
                <a href="custom-entities.html">
            
                    
                    Custom Entities
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7" data-path="catalog/">
            
                <a href="catalog/">
            
                    
                    Catalog
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.8" data-path="clusters.html">
            
                <a href="clusters.html">
            
                    
                    Clusters, Specs, and Composition
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.9" data-path="enrichers.html">
            
                <a href="enrichers.html">
            
                    
                    Enrichers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.10" data-path="policies.html">
            
                <a href="policies.html">
            
                    
                    Policies
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.11" data-path="effectors.html">
            
                <a href="effectors.html">
            
                    
                    Effectors
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.12" data-path="clusters-and-policies.html">
            
                <a href="clusters-and-policies.html">
            
                    
                    Clusters and Policies
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.13" data-path="java/">
            
                <a href="java/">
            
                    
                    Java Entities
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.13.1" data-path="java/archetype.html">
            
                <a href="java/archetype.html">
            
                    
                    Creating from a Maven Archetype
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.13.2" data-path="java/defining-and-deploying.html">
            
                <a href="java/defining-and-deploying.html">
            
                    
                    Defining and Deploying
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.13.3" data-path="java/bundle-dependencies.html">
            
                <a href="java/bundle-dependencies.html">
            
                    
                    Handling Bundle Dependencies
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.13.4" data-path="java/topology-dependencies.html">
            
                <a href="java/topology-dependencies.html">
            
                    
                    Topology, Dependencies, and Management Policies
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.13.5" data-path="java/common-usage.html">
            
                <a href="java/common-usage.html">
            
                    
                    Common Classes and Entities
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.13.6" data-path="java/feeds.html">
            
                <a href="java/feeds.html">
            
                    
                    Feeds
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.13.7" data-path="java/entity.html">
            
                <a href="java/entity.html">
            
                    
                    Writing an Entity
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.13.8" data-path="java/entities.html">
            
                <a href="java/entities.html">
            
                    
                    Custom Entity Development
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.13.9" data-path="java/service-state.html">
            
                <a href="java/service-state.html">
            
                    
                    Service State
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.13.10" data-path="java/entitlements.html">
            
                <a href="java/entitlements.html">
            
                    
                    Entitlements
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.14" data-path="winrm/">
            
                <a href="winrm/">
            
                    
                    Windows Blueprints
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.15" data-path="test/">
            
                <a href="test/">
            
                    
                    Testing YAML Blueprints
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.16" data-path="ansible/">
            
                <a href="ansible/">
            
                    
                    Ansible in YAML Blueprints
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.17" data-path="chef/">
            
                <a href="chef/">
            
                    
                    Chef in YAML Blueprints
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.18" data-path="salt/">
            
                <a href="salt/">
            
                    
                    Salt in YAML Blueprints
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.19" data-path="advanced-example.html">
            
                <a href="advanced-example.html">
            
                    
                    YAML Blueprint Advanced Example
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.20" data-path="blueprinting-tips.html">
            
                <a href="blueprinting-tips.html">
            
                    
                    Blueprinting Tips
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.21" data-path="../blueprint/yaml-reference.md">
            
                <span>
            
                    
                    YAML Blueprint Reference
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../locations/">
            
                <a href="../locations/">
            
                    
                    Deploying Blueprint
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../locations/">
            
                <a href="../locations/#clouds">
            
                    
                    Clouds
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../locations/">
            
                <a href="../locations/#amazon-web-services-aws">
            
                    
                    Amazon Web Services
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="../locations/">
            
                <a href="../locations/#azure-compute-arm">
            
                    
                    Azure Compute ARM
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="../locations/">
            
                <a href="../locations/#azure-compute-classic">
            
                    
                    Azure Compute Classic
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.5" data-path="../locations/">
            
                <a href="../locations/#apache-cloudstack">
            
                    
                    Apache CloudStack
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.6" data-path="../locations/">
            
                <a href="../locations/#google-compute-engine-gce">
            
                    
                    Google Compute Engine
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.7" data-path="../locations/">
            
                <a href="../locations/#ibm-softlayer">
            
                    
                    IBM Softlayer
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.8" data-path="../locations/">
            
                <a href="../locations/#openstack">
            
                    
                    OpenStack
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.9" data-path="../locations/">
            
                <a href="../locations/#named-locations">
            
                    
                    Named Locations
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.10" data-path="../locations/">
            
                <a href="../locations/#inheritance-and-named-locations">
            
                    
                    Provisioned Machine Requirements
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.11" data-path="../locations/">
            
                <a href="../locations/#byon">
            
                    
                    BYON
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.12" data-path="../locations/">
            
                <a href="../locations/#ssh-keys">
            
                    
                    SSH Keys
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.13" data-path="../locations/">
            
                <a href="../locations/#localhost">
            
                    
                    Localhost
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.14" data-path="../locations/">
            
                <a href="../locations/#location-customizers">
            
                    
                    Location Customizers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.15" data-path="../locations/">
            
                <a href="../locations/#customizing-cloud-security-groups">
            
                    
                    Customizing Cloud Security Groups
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.16" data-path="../locations/">
            
                <a href="../locations/#specialized-locations">
            
                    
                    Specialized Locations
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" >
            
                <span>
            
                    
                    Reference Guide
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../ops/production-installation.html">
            
                <a href="../ops/production-installation.html">
            
                    
                    Production Installation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="../ops/starting-stopping-monitoring.html">
            
                <a href="../ops/starting-stopping-monitoring.html">
            
                    
                    Starting, Stopping and Monitoring
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="../ops/server-cli-reference.html">
            
                <a href="../ops/server-cli-reference.html">
            
                    
                    Server CLI Reference
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.4" data-path="../ops/cli/">
            
                <a href="../ops/cli/">
            
                    
                    Client CLI Reference
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.5" >
            
                <span>
            
                    
                    GUI Guide
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.5.1" data-path="../ops/gui/running.html">
            
                <a href="../ops/gui/running.html">
            
                    
                    Launching
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.5.2" data-path="../ops/gui/blueprints.html">
            
                <a href="../ops/gui/blueprints.html">
            
                    
                    Deploying Blueprints
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.5.3" data-path="../ops/gui/managing.html">
            
                <a href="../ops/gui/managing.html">
            
                    
                    Monitoring and Managing Applications
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.5.4" data-path="../ops/gui/policies.html">
            
                <a href="../ops/gui/policies.html">
            
                    
                    Using Policies
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7.6" data-path="../ops/rest.html">
            
                <a href="../ops/rest.html">
            
                    
                    REST API
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.7" data-path="../ops/configuration/">
            
                <a href="../ops/configuration/">
            
                    
                    Brooklyn Configuration and Options
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.8" data-path="../ops/persistence/">
            
                <a href="../ops/persistence/">
            
                    
                    Persistence
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.9" data-path="../ops/high-availability/">
            
                <a href="../ops/high-availability/">
            
                    
                    High Availability
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.9.1" data-path="../ops/high-availability/high-availability-supplemental.html">
            
                <a href="../ops/high-availability/high-availability-supplemental.html">
            
                    
                    Configuring HA - an example
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7.10" data-path="../ops/logging.html">
            
                <a href="../ops/logging.html">
            
                    
                    Logging
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.11" data-path="../ops/externalized-configuration.html">
            
                <a href="../ops/externalized-configuration.html">
            
                    
                    Externalized Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.12" data-path="../ops/requirements.html">
            
                <a href="../ops/requirements.html">
            
                    
                    Requirements
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.13" data-path="../ops/upgrade.html">
            
                <a href="../ops/upgrade.html">
            
                    
                    Upgrade
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.14" data-path="../ops/security-guidelines.html">
            
                <a href="../ops/security-guidelines.html">
            
                    
                    Security Guidelines
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.15" data-path="../ops/troubleshooting/">
            
                <a href="../ops/troubleshooting/">
            
                    
                    Troubleshooting
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../misc/">
            
                <a href="../misc/">
            
                    
                    Other 0.12.0 Resources
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Developer Guide</li>
        
        
    
        <li class="chapter " data-level="2.1" >
            
                <a target="_blank" href="https://brooklyn.apache.org/developers/code/">
            
                    
                    Get the Code
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="../dev/env/maven-build.html">
            
                <a href="../dev/env/maven-build.html">
            
                    
                    Maven Build
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="../dev/env/ide/">
            
                <a href="../dev/env/ide/">
            
                    
                    IDE Setup
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="../dev/code/structure.html">
            
                <a href="../dev/code/structure.html">
            
                    
                    Code Structure
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.5" data-path="../dev/code/tests.html">
            
                <a href="../dev/code/tests.html">
            
                    
                    Tests
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.6" data-path="../dev/code/licensing.html">
            
                <a href="../dev/code/licensing.html">
            
                    
                    License Considerations
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.7" data-path="../dev/tips/">
            
                <a href="../dev/tips/">
            
                    
                    Miscellaneous Tips and Tricks
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.8" data-path="../dev/tips/logging.html">
            
                <a href="../dev/tips/logging.html">
            
                    
                    Logging
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.9" data-path="../dev/tips/debugging-remote-brooklyn.html">
            
                <a href="../dev/tips/debugging-remote-brooklyn.html">
            
                    
                    Brooklyn Remote Debugging
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.10" >
            
                <a target="_blank" href="http://github.com/apache/brooklyn">
            
                    
                    GitHub
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.11" >
            
                <a target="_blank" href="https://brooklyn.apache.org/v/latest/misc/javadoc">
            
                    
                    Javadoc
            
                </a>
            

            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="3.1" >
            
                <a target="_blank" href="https://brooklyn.apache.org/meta/versions.html">
            
                    
                    Versions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2" >
            
                <a target="_blank" href="https://brooklyn.apache.org/documentation/other-docs.html">
            
                    
                    Other Resources
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Custom Entities</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <p>So far we&apos;ve covered how to configure and compose entities.
There&apos;s a large library of blueprints available, but
there are also times when you&apos;ll want to write your own.</p>
<p>For complex use cases, you can write JVM, but for many common situations,
some of the highly-configurable blueprints make it easy to write in YAML,
including <code>bash</code> and Chef.</p>
<h3 id="vanilla-software-using-bash">Vanilla Software using <code>bash</code></h3>
<p>The following blueprint shows how a simple script can be embedded in the YAML
(the <code>|</code> character is special YAML which makes it easier to insert multi-line text):</p>
<pre><code class="lang-yaml"><span class="hljs-attr">name:</span> Simple Netcat Server Example
<span class="hljs-attr">location:</span> localhost
<span class="hljs-attr">services:</span>
<span class="hljs-attr">- type:</span> org.apache.brooklyn.entity.software.base.VanillaSoftwareProcess
<span class="hljs-attr">  name:</span> Simple Netcat Server
  brooklyn.config:
    launch.command: <span class="hljs-string">|
      echo hello | nc -l 4321 &amp;
      echo $! &gt; $PID_FILE
</span></code></pre>
<p>This starts a simple <code>nc</code> listener on port 4321 which will respond <code>hello</code> to the first
session which connects to it. Test it by running <code>telnet localhost 4321</code>
or opening <code>http://localhost:4321</code> in a browser.</p>
<p>Note that it only allows you connect once, and after that it fails.
This is deliberate! We&apos;ll repair this later in this example.
Until then however, in the <em>Applications</em> view you can click the server,
go to the <code>Effectors</code> tab, and click <code>restart</code> to bring if back to life.  </p>
<p>This is just a simple script, but it shows how any script can be easily embedded here,
including a script to download and run other artifacts.
Many artifacts are already packaged such that they can be downloaded and launched 
with a simple script, and <code>VanillaSoftwareProcess</code> can also be used for them. </p>
<h4 id="downloading-files">Downloading Files</h4>
<p>We can specify a <code>download.url</code> which downloads an artifact 
(and automatically unpacking TAR, TGZ, and ZIP archives)
before running <code>launch.command</code> relative to where that file is installed (or unpacked),
with the default <code>launch.command</code> being <code>./start.sh</code>.</p>
<p>So if we create a file <code>/tmp/netcat-server.tgz</code> containing just <code>start.sh</code> in the root
which contains the line <code>echo hello | nc -l 4321</code>, 
we can instead write our example as: </p>
<pre><code class="lang-yaml"><span class="hljs-attr">name:</span> Simple Netcat Example From File
<span class="hljs-attr">location:</span> localhost
<span class="hljs-attr">services:</span>
<span class="hljs-attr">- type:</span> org.apache.brooklyn.entity.software.base.VanillaSoftwareProcess
<span class="hljs-attr">  name:</span> Simple Netcat Server
  brooklyn.config:
    download.url: file:///tmp/netcat-server.tgz
    launch.command: <span class="hljs-string">|
      ./start.sh &amp;
      echo $! &gt; $PID_FILE
</span></code></pre>
<h4 id="determining-successful-launch">Determining Successful Launch</h4>
<p>The default method used to determine a successful launch of <code>VanillaSoftwareProcess</code> is to run a 
command over ssh to do a health check. The health check is done post-launch (repeating until it 
succeeds, before then reporting that the entity has started).</p>
<p>The default command used to carry out this health check will determine if the pid, written to 
<code>$PID_FILE</code> is running. This is why we included in the entity&apos;s launch script the line 
<code>echo $! &gt; $PID_FILE</code>.</p>
<p>You&apos;ll observe this if you connect to one of the netcat services (e.g. via <code>telnet localhost 4321</code>):
the <code>nc</code> process exits afterwards, causing Brooklyn to set the entity to an <code>ON_FIRE</code> state.
(You can also test this with a <code>killall nc</code>).</p>
<p>There are other options for determining health: you can set <code>checkRunning.command</code> and <code>stop.command</code> instead,
as documented on the javadoc and config keys of the
<a href="https://brooklyn.apache.org/v/latest/misc/javadoc/org/apache/brooklyn/entity/software/base/VanillaSoftwareProcess.html" target="_blank">org.apache.brooklyn.entity.software.base.VanillaSoftwareProcess</a>
class, and those scripts will be used instead of checking and stopping the process whose PID is in <code>$PID_FILE</code>. For example:</p>
<pre><code class="lang-yaml"><span class="hljs-attr">name:</span> Netcat Example with Explicit Check and Stop Commands
<span class="hljs-attr">location:</span> localhost
<span class="hljs-attr">services:</span>
<span class="hljs-attr">- type:</span> org.apache.brooklyn.entity.software.base.VanillaSoftwareProcess
<span class="hljs-attr">  name:</span> Simple Netcat Server
  brooklyn.config:
    launch.command: <span class="hljs-string">|
      echo hello | nc -l 4321 &amp;
      echo $! &gt; $PID_FILE

    # The following overrides demonstrate the use of a custom shell environment as well as
    # check-running and stop commands. These are optional; default behavior will &quot;do the
    # right thing&quot; with the pid file automatically.

    shell.env:
</span><span class="hljs-attr">      CHECK_MARKER:</span> <span class="hljs-string">&quot;checkRunning&quot;</span>
<span class="hljs-attr">      STOP_MARKER:</span> <span class="hljs-string">&quot;stop&quot;</span>
    checkRunning.command: <span class="hljs-string">|
      echo $CHECK_MARKER &gt;&gt; DATE &amp;&amp; test -f &quot;$PID_FILE&quot; &amp;&amp; ps -p `cat $PID_FILE` &gt;/dev/null
    stop.command: |
      echo $STOP_MARKER  &gt;&gt; DATE &amp;&amp; test -f &quot;$PID_FILE&quot; &amp;&amp; { kill -9 `cat $PID_FILE`; rm $PID_FILE; }
</span></code></pre>
<h4 id="periodic-health-check">Periodic Health Check</h4>
<p>After start-up is complete, the health check described above is also run periodically, defaulting 
to every 5 seconds (configured with the config key <code>softwareProcess.serviceProcessIsRunningPollPeriod</code>).</p>
<p>This ssh-based polling can be turned off by configuring <code>sshMonitoring.enabled: false</code>. However, if 
no alternative health-check is defined then failure of the process would never be detected by Brooklyn.</p>
<p>See <a href="#health-check-sensors">Health Check Sensors</a> for alternative ways of detecting failures.</p>
<h4 id="port-inferencing">Port Inferencing</h4>
<p>If you&apos;re deploying to a cloud machine, a firewall might block the port 4321.
We can tell Brooklyn to open this port explicitly by specifying <code>inboundPorts: [ 4321 ]</code>;
however a more idiomatic way is to specify a config ending with <code>.port</code>,
such as:</p>
<pre><code class="lang-yaml"><span class="hljs-attr">name:</span> Netcat Example with Port Opened
<span class="hljs-attr">location:</span> localhost
<span class="hljs-attr">services:</span>
<span class="hljs-attr">- type:</span> org.apache.brooklyn.entity.software.base.VanillaSoftwareProcess
<span class="hljs-attr">  name:</span> Simple Netcat Server

  brooklyn.config:
    <span class="hljs-comment"># matching the regex `.*\.port` will cause the port to be opened</span>
    <span class="hljs-comment"># if in a cloud where configurable security groups are available</span>
    netcat.port: <span class="hljs-number">4321</span>

    launch.command: <span class="hljs-string">|
      echo hello | nc -l 4321 &amp;
      echo $! &gt; $PID_FILE
</span></code></pre>
<p>The regex for ports to be opened can be configured using
the config <code>inboundPorts.configRegex</code> (which has <code>.*\.port</code> as the default value).</p>
<p>Config keys of type <code>org.apache.brooklyn.api.location.PortRange</code> (aka <code>port</code>)
have special behaviour: when configuring, you can use range notation <code>8000-8100</code> or <code>8000+</code> to tell Brooklyn
to find <strong>one</strong> port matching; this is useful when ports might be in use.
In addition, any such config key will be opened, 
irrespective of whether it matches the <code>inboundPorts.configRegex</code>. 
To prevent any inferencing of ports to open, you can set the config <code>inboundPorts.autoInfer</code> to <code>false</code>.</p>
<p>Furthermore, the port inferencing capability takes in account static <code>ConfigKey</code> fields that
are defined on any Entity sub-class. So, <code>ConfigKey</code> fields that are based on <code>PortRanges</code> type will
be also included as required open ports.</p>
<p>Note that in the example above, <code>netcat.port</code> must be specified in a <code>brooklyn.config</code> block.
This block can be used to hold any config (including for example the <code>launch.command</code>),
but for convenience Brooklyn allows config keys declared on the underlying type
to be specified up one level, alongside the type.
However config keys which are <em>not</em> declared on the type <em>must</em> be declared in the <code>brooklyn.config</code> block. </p>
<h3 id="passing-custom-variables">Passing custom variables</h3>
<p>Blueprint scripts can be parametrised through environment variables, making them reusable in different use-cases.
Define the variables in the <code>env</code> block and then reference them using the standard bash notation:</p>
<pre><code class="lang-yaml"><span class="hljs-attr">name:</span> Netcat Example with Environment Vars
<span class="hljs-attr">location:</span> localhost
<span class="hljs-attr">services:</span>
<span class="hljs-attr">- type:</span> org.apache.brooklyn.entity.software.base.VanillaSoftwareProcess
<span class="hljs-attr">  name:</span> Simple Netcat Server

  brooklyn.config:
    launch.command: <span class="hljs-string">|
      echo $MESSAGE | nc -l $NETCAT_PORT &amp;
      echo $! &gt; $PID_FILE

    shell.env:
</span><span class="hljs-attr">      MESSAGE:</span> hello
<span class="hljs-attr">      NETCAT_PORT:</span> <span class="hljs-number">4321</span>
</code></pre>
<p>Non-string objects in the <code>env</code> map will be serialized to JSON before passing them to the script.</p>
<h4 id="declaring-new-config-keys">Declaring New Config Keys</h4>
<p>We can define config keys to be presented to the user 
using the <code>brooklyn.parameters</code> block:</p>
<pre><code class="lang-yaml"><span class="hljs-attr">name:</span> Netcat Example with Parameter
<span class="hljs-attr">location:</span> localhost
<span class="hljs-attr">services:</span>
<span class="hljs-attr">- type:</span> org.apache.brooklyn.entity.software.base.VanillaSoftwareProcess
<span class="hljs-attr">  name:</span> Simple Netcat Server
  brooklyn.config:
    launch.command: <span class="hljs-string">|
      echo $MESSAGE | nc -l $NETCAT_PORT &amp;
      echo $! &gt; $PID_FILE

    shell.env:
</span><span class="hljs-attr">      MESSAGE:</span> $brooklyn:config(<span class="hljs-string">&quot;message&quot;</span>)
<span class="hljs-attr">      NETCAT_PORT:</span> $brooklyn:attributeWhenReady(<span class="hljs-string">&quot;netcat.port&quot;</span>)

  brooklyn.parameters:
<span class="hljs-attr">  - name:</span> message
<span class="hljs-attr">    description:</span> a message to send to the caller
<span class="hljs-attr">    default:</span> hello
<span class="hljs-attr">  - name:</span> netcat.port
<span class="hljs-attr">    type:</span> port
<span class="hljs-attr">    description:</span> the port netcat should run on
<span class="hljs-attr">    default:</span> <span class="hljs-number">4321</span>+
</code></pre>
<p>The example above will allow a user to specify a message to send back
and the port where netcat will listen.
The metadata on these parameters is available at runtime in the UI
and through the API, and is used when populating a catalog.</p>
<p>The example also shows how these values can be passed as environment variables to the launch command.
The <code>$brooklyn:config(...)</code> function returns the config value supplied or default.
For the type <code>port</code>, an attribute sensor is also created to report the <em>actual</em> port used after port inference,
and so the <code>$brooklyn:attributeWhenReady(...)</code> function is used.
(If <code>$brooklyn:config(&quot;netcat.port&quot;)</code> had been used, <code>4321+</code> would be passed as <code>NETCAT_PORT</code>.)</p>
<p>This gives us quite a bit more power in writing our blueprint:</p>
<ul>
<li>Multiple instances of the server can be launched simultaneously on the same host, 
as the <code>4321+</code> syntax enables Brooklyn to assign them different ports</li>
<li>If this type is added to the catalog, a user can configure the message and the port;
we&apos;ll show this in the next section</li>
</ul>
<h3 id="using-the-catalog-and-clustering">Using the Catalog and Clustering</h3>
<p>The <em>Catalog</em> tab allows you to add blueprints which you can refer to in other blueprints.
In that tab, click <em>+</em> then <em>YAML</em>, and enter the following:</p>
<pre><code class="lang-yaml">brooklyn.catalog:
<span class="hljs-attr">  id:</span> netcat-example
<span class="hljs-attr">  version:</span> <span class="hljs-string">&quot;1.0&quot;</span>
<span class="hljs-attr">  itemType:</span> entity
<span class="hljs-attr">  item:</span>
<span class="hljs-attr">    type:</span> org.apache.brooklyn.entity.software.base.VanillaSoftwareProcess
<span class="hljs-attr">    name:</span> Simple Netcat Server

    brooklyn.config:
      launch.command: <span class="hljs-string">|
        echo $MESSAGE | nc -l $NETCAT_PORT &amp;
        echo $! &gt; $PID_FILE

      shell.env:
</span><span class="hljs-attr">        MESSAGE:</span> $brooklyn:config(<span class="hljs-string">&quot;message&quot;</span>)
<span class="hljs-attr">        NETCAT_PORT:</span> $brooklyn:attributeWhenReady(<span class="hljs-string">&quot;netcat.port&quot;</span>)

    brooklyn.parameters:
<span class="hljs-attr">    - name:</span> message
<span class="hljs-attr">      description:</span> a message to send to the caller
<span class="hljs-attr">      default:</span> hello
<span class="hljs-attr">    - name:</span> netcat.port
<span class="hljs-attr">      type:</span> port
<span class="hljs-attr">      description:</span> the port netcat should run on
<span class="hljs-attr">      default:</span> <span class="hljs-number">4321</span>+

    brooklyn.enrichers:
<span class="hljs-attr">    - type:</span> org.apache.brooklyn.enricher.stock.Transformer
      brooklyn.config:
<span class="hljs-attr">        uniqueTag:</span> main-uri-generator
        enricher.sourceSensor: $brooklyn:sensor(<span class="hljs-string">&quot;host.address&quot;</span>)
        enricher.targetSensor: $brooklyn:sensor(<span class="hljs-string">&quot;main.uri&quot;</span>)
        enricher.targetValue:
          $brooklyn:formatString:
<span class="hljs-bullet">          -</span> <span class="hljs-string">&quot;http://%s:%s/&quot;</span>
<span class="hljs-bullet">          -</span> $brooklyn:attributeWhenReady(<span class="hljs-string">&quot;host.address&quot;</span>)
<span class="hljs-bullet">          -</span> $brooklyn:attributeWhenReady(<span class="hljs-string">&quot;netcat.port&quot;</span>)
</code></pre>
<p>This is the same example as in the previous section, wrapped according to the catalog YAML requirements,
with one new block added defining an enricher. An enricher creates a new sensor from other values;
in this case it will create a <code>main.uri</code> sensor by populating a <code>printf</code>-style string <code>&quot;http://%s:%s&quot;</code>
with the sensor values.</p>
<p>With this added to the catalog, we can reference the type <code>netcat-example</code> when we deploy an application.
Return to the <em>Home</em> or <em>Applications</em> tab, click <em>+</em>, and submit this YAML blueprint:</p>
<pre><code class="lang-yaml"><span class="hljs-attr">name:</span> Netcat Type Reference Example
<span class="hljs-attr">location:</span> localhost
<span class="hljs-attr">services:</span>
<span class="hljs-attr">- type:</span> netcat-example
<span class="hljs-attr">  message:</span> hello from netcat using a registered type
</code></pre>
<p>This extends the previous blueprint which we registered in the catalog,
meaning that we don&apos;t need to include it each time.
Here, we&apos;ve elected to supply our own message, but we&apos;ll use the default port.
More importantly, we can package it for others to consume -- or take items others have built.</p>
<p>We can go further and use this to deploy a cluster,
this time giving a custom port as well as a custom message: </p>
<pre><code class="lang-yaml"><span class="hljs-attr">name:</span> Netcat Cluster Example
<span class="hljs-attr">location:</span> localhost
<span class="hljs-attr">services:</span>
<span class="hljs-attr">- type:</span> org.apache.brooklyn.entity.group.DynamicCluster
  brooklyn.config:
    dynamiccluster.memberspec:
      $brooklyn:entitySpec:
<span class="hljs-attr">        type:</span> netcat-example
<span class="hljs-attr">        message:</span> hello from cluster member
        netcat.port: <span class="hljs-number">8000</span>+
    cluster.initial.size: <span class="hljs-number">3</span>
    dynamiccluster.restartMode: parallel
</code></pre>
<p>In either of the above examples, if you explore the tree in the <em>Applications</em> view
and look at the <em>Summary</em> tab of any of the server instances, you&apos;ll now see the URL where netcat is running.
But remember, netcat will stop after one run, so you&apos;ll only be able to use each link once
before you have to restart it.  You can also run <code>restart</code> on the cluster,
and if you haven&apos;t yet experimented with <code>resize</code> on the cluster you might want to do that.</p>
<h3 id="attaching-policies">Attaching Policies</h3>
<p>Besides detecting this failure, Brooklyn policies can be added to the YAML to take appropriate 
action. A simple recovery here might just to automatically restart the process:</p>
<pre><code class="lang-yaml"><span class="hljs-attr">name:</span> Netcat Example with Restarter Policy
<span class="hljs-attr">location:</span> localhost
<span class="hljs-attr">services:</span>
<span class="hljs-attr">- type:</span> org.apache.brooklyn.entity.software.base.VanillaSoftwareProcess
<span class="hljs-attr">  id:</span> netcat-server
<span class="hljs-attr">  name:</span> Simple Netcat Server
  brooklyn.config:
    launch.command: <span class="hljs-string">|
      echo hello | nc -l 4321 &amp;
      echo $! &gt; $PID_FILE
  brooklyn.enrichers:
</span><span class="hljs-attr">  - type:</span> org.apache.brooklyn.policy.ha.ServiceFailureDetector
    brooklyn.config:
      <span class="hljs-comment"># wait 15s after service fails before propagating failure</span>
<span class="hljs-attr">      serviceFailedStabilizationDelay:</span> <span class="hljs-number">15</span>s
  brooklyn.policies:
<span class="hljs-attr">  - type:</span> org.apache.brooklyn.policy.ha.ServiceRestarter
    brooklyn.config:
      <span class="hljs-comment"># repeated failures in a time window can cause the restarter to abort,</span>
      <span class="hljs-comment"># propagating the failure; a time window of 0 will mean it always restarts!</span>
<span class="hljs-attr">      failOnRecurringFailuresInThisDuration:</span> <span class="hljs-number">0</span>
</code></pre>
<p>Autonomic management in Brooklyn often follows the principle that complex behaviours emerge
from composing simple policies.
The blueprint above uses one policy to triggering a failure sensor when the service is down,
and another responds to such failures by restarting the service.
This makes it easy to configure various aspects, such as to delay to see if the service itself recovers
(which here we&apos;ve set to 15 seconds) or to bail out on multiple failures within a time window (which again we are not doing).
Running with this blueprint, you&apos;ll see that the service shows as on fire for 15s after a <code>telnet localhost 4321</code>,
before the policy restarts it. </p>
<h3 id="sensors-and-effectors">Sensors and Effectors</h3>
<h4 id="effectors">Effectors</h4>
<p>For an even more interesting way to test it, look at the blueprint defining
<a href="example_yaml/vanilla-bash-netcat-w-client.yaml">a netcat server and client</a>.
This uses <code>brooklyn.initializers</code> to define an effector to <code>sayHiNetcat</code> on the <code>Simple Pinger</code> client,
using <code>env</code> variables to inject the <code>netcat-server</code> location and 
<code>parameters</code> to pass in per-effector data:</p>
<pre><code>  env:
    TARGET_HOSTNAME: $brooklyn:entity(&quot;netcat-server&quot;).attributeWhenReady(&quot;host.name&quot;)
  brooklyn.initializers:
  - type: org.apache.brooklyn.core.effector.ssh.SshCommandEffector
    brooklyn.config:
      name: sayHiNetcat
      description: Echo a small hello string to the netcat entity
      command: |
        echo $message | nc $TARGET_HOSTNAME 4321
      parameters:
        message:
          description: The string to pass to netcat
          defaultValue: hi netcat
</code></pre><h4 id="sensors">Sensors</h4>
<p>This blueprint also uses initializers to define sensors on the <code>netcat-server</code> entity
so that the <code>$message</code> we passed above gets logged and reported back:</p>
<pre><code>  launch.command: |
    echo hello | nc -l 4321 &gt;&gt; server-input &amp;
    echo $! &gt; $PID_FILE
  brooklyn.initializers:
  - type: org.apache.brooklyn.core.sensor.ssh.SshCommandSensor
    brooklyn.config:
      name: output.last
      period: 1s
      command: tail -1 server-input
</code></pre><h4 id="windows-command-sensor">Windows Command Sensor</h4>
<p>Like the blueprint above, the following example also uses <code>brooklyn.initializers</code> to define sensors on the entity,
this time however it is a windows VM and uses <code>WinRmCommandSensor</code>.</p>
<pre><code>- type: org.apache.brooklyn.entity.software.base.VanillaWindowsProcess
  brooklyn.config:
    launch.command: echo launching
    checkRunning.command: echo running
  brooklyn.initializers:
  - type: org.apache.brooklyn.core.sensor.windows.WinRmCommandSensor
    brooklyn.config:
      name: ip.config
      period: 60s
      command: hostname
</code></pre><h4 id="health-check-sensors">Health Check Sensors</h4>
<p>As mentioned <a href="#periodic-health-check">previously</a>, the default health check is to execute the check-running
command over ssh every 5 seconds. This can be very CPU intensive when there are many entities. An alternative
is to disable the ssh-polling (by setting <code>sshMonitoring.enabled: false</code>) and to configure a different 
health-check.</p>
<p>See documentation on the <a href="../guide/ops/troubleshooting/overview.html#entitys-error-status">Entity&apos;s error status</a>
for how Brooklyn models an entity&apos;s health.</p>
<p>In the snippet below, we&apos;ll define a new health-check sensor (via http polling), and will automatically add this
to the <code>service.notUp.indicators</code>. If that map is non-empty, then the entity&apos;s <code>service.isUp</code> will be set
automatically to <code>false</code>:</p>
<pre><code>services:
- type: org.apache.brooklyn.entity.software.base.VanillaSoftwareProcess
  brooklyn.config:
    launch.command: |
      ...
    checkRunning.command: true
    sshMonitoring.enabled: false

  brooklyn.initializers:
    - type: org.apache.brooklyn.core.sensor.http.HttpRequestSensor
      brooklyn.config:
        name: http.healthy
        period: 5s
        suppressDuplicates: true
        jsonPath: &quot;$&quot;
        uri:
          $brooklyn:formatString:
          - &quot;http://%s:8080/healthy&quot;
          - $brooklyn:attributeWhenReady(&quot;host.name&quot;)

  brooklyn.enrichers:
    - type: org.apache.brooklyn.enricher.stock.UpdatingMap
      brooklyn.config:
        enricher.sourceSensor: $brooklyn:sensor(&quot;http.healthy&quot;)
        enricher.targetSensor: $brooklyn:sensor(&quot;service.notUp.indicators&quot;)
        enricher.updatingMap.computing:
          $brooklyn:object:
            type: &quot;com.google.guava:com.google.common.base.Functions&quot;
            factoryMethod.name: &quot;forMap&quot;
            factoryMethod.args:
              - true: null
                false: &quot;false&quot;
              - &quot;no value&quot;
</code></pre><p>The <code>HttpRequestSensor</code> configures the entity to poll every 5 seconds on the given URI,
taking the json result as the sensor value.</p>
<p>The <code>UpdatingMap</code> enricher uses that sensor to populate an entry in the <code>service.notUp.indicators</code>.
It transforms the <code>http.healthy</code> sensor value using the given function: if the http poll returned
<code>true</code>, then it is mapped to <code>null</code> (so is removed from the <code>service.noUp.indicators</code>); if the
poll returned <code>false</code>, then <code>&quot;false&quot;</code> is added to the indicators map; otherwise <code>&quot;no value&quot;</code> is
added to the indicators map.</p>
<h4 id="summary">Summary</h4>
<p>These examples do relatively simple things, but they
illustrate many of the building blocks used in real-world blueprints,
and how they can often be easily described and combined in Brooklyn YAML blueprints.</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            

        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Custom Entities","layout":"website-normal","toc":"../guide_toc.json","categories":["use","guide","defining-applications"],"level":"1.5.6","depth":2,"next":{"title":"Catalog","level":"1.5.7","depth":2,"path":"blueprints/catalog/index.md","ref":"blueprints/catalog/index.md","articles":[]},"previous":{"title":"Multiple Services and Dependency Injection","level":"1.5.5","depth":2,"path":"blueprints/multiple-services.md","ref":"blueprints/multiple-services.md","articles":[]},"dir":"ltr"},"config":{"plugins":["include-highlight","theme-api"],"root":"./guide","styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"include-highlight":{"extensionToLanguage":{"yml":"yaml","yaml":"yaml","bom":"yaml","java":"java"}},"theme-api":{"languages":[{"lang":"vagrant","name":"Vagrant","default":true},{"lang":"centos","name":"CentOS / RHEL 7"},{"lang":"ubuntu","name":"Ubuntu / Debian"},{"lang":"osx","name":"OSX / Linux"},{"lang":"windows","name":"Windows"}],"split":false,"theme":"light"},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{"path":{"style":"/style","guide":"/guide","website":"/website","v":"/v"},"pdf-default-versioned-url-subpath":"/v/0.11.0","brooklyn-stable-version":"0.11.0","sass":{"sass_dir":"style/css"},"markdown":"kramdown","brooklyn-version":"0.13.0-SNAPSHOT","url_root":"http://0.0.0.0:4000","root_menu_page":"/website/index.md","encoding":"utf-8","dependency_mode":"local","dependency_urls":{"bootstrap.css":"https://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css","bootstrap.js":"https://netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js","jquery.js":"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"},"exclude":["/Gemfile*","/README.md"],"pdf-default-base-url":"http://brooklyn.apache.org","pdf-rewrite-prefixes":{"/guide":"/v/0.11.0","/website":""},"brooklyn-snapshot-git-branch":"master"},"gitbook":"*"},"file":{"path":"blueprints/custom-entities.md","mtime":"2017-10-06T11:31:52.000Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2017-10-06T11:32:19.198Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-theme-api/theme-api.js"></script>
        
    

    </body>
</html>

