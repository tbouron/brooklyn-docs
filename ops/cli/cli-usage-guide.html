
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>CLI Usage Guide Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-collapsible-chapters/collapsible-chapters.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-bootstrap-callout/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-versions/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-theme-api/theme-api.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="../../website-1507894547703.css">
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="../gui/" />
    
    
    <link rel="prev" href="cli-ref-guide.html" />
    

    </head>
    <body>
        
    <header class="page-header">
        <a href="https://brooklyn.apache.org" class="navbar-brand">
            <img src="https://brooklyn.apache.org/v/latest/style/img/apache-brooklyn-logo-244px-wide.png" alt="Apache Brooklyn">
        </a>
    </header>
    
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        <li class="header">User Guide</li>
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../../start/">
            
                <a href="../../start/">
            
                    
                    Getting Started
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../../start/running.html">
            
                <a href="../../start/running.html">
            
                    
                    Running Apache Brooklyn
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../../start/blueprints.html">
            
                <a href="../../start/blueprints.html">
            
                    
                    Deploying Blueprints
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../../start/managing.html">
            
                <a href="../../start/managing.html">
            
                    
                    Monitoring and Managing Applications
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="../../start/policies.html">
            
                <a href="../../start/policies.html">
            
                    
                    Policies
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5" data-path="../../start/concept-quickstart.html">
            
                <a href="../../start/concept-quickstart.html">
            
                    
                    Concepts
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../../misc/download.html">
            
                <a href="../../misc/download.html">
            
                    
                    Downloads
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../../concepts/">
            
                <a href="../../concepts/">
            
                    
                    Brooklyn Concepts
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../../concepts/entities.html">
            
                <a href="../../concepts/entities.html">
            
                    
                    Entities
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../../concepts/application-parent-membership.html">
            
                <a href="../../concepts/application-parent-membership.html">
            
                    
                    Application, Parent and Membership
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../../concepts/configuration-sensor-effectors.html">
            
                <a href="../../concepts/configuration-sensor-effectors.html">
            
                    
                    Configuration, Sensors and Effectors
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../../concepts/lifecycle-managementcontext.html">
            
                <a href="../../concepts/lifecycle-managementcontext.html">
            
                    
                    Lifecycle and ManagementContext
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="../../concepts/dependent-configuration.html">
            
                <a href="../../concepts/dependent-configuration.html">
            
                    
                    Dependent Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6" data-path="../../concepts/location.html">
            
                <a href="../../concepts/location.html">
            
                    
                    Location
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7" data-path="../../concepts/policies.html">
            
                <a href="../../concepts/policies.html">
            
                    
                    Policies
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8" data-path="../../concepts/execution.html">
            
                <a href="../../concepts/execution.html">
            
                    
                    Execution
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.9" data-path="../../concepts/stop-start-restart-behaviour.html">
            
                <a href="../../concepts/stop-start-restart-behaviour.html">
            
                    
                    Stop/start/restart behaviour
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../../blueprints/">
            
                <a href="../../blueprints/">
            
                    
                    Writing Blueprints
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../../blueprints/creating-yaml.html">
            
                <a href="../../blueprints/creating-yaml.html">
            
                    
                    Creating YAML Blueprint
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../../blueprints/entity-configuration.html">
            
                <a href="../../blueprints/entity-configuration.html">
            
                    
                    Entity Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../../blueprints/setting-locations.html">
            
                <a href="../../blueprints/setting-locations.html">
            
                    
                    Setting Locations
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="../../blueprints/configuring-vms.html">
            
                <a href="../../blueprints/configuring-vms.html">
            
                    
                    Configuring VMs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5" data-path="../../blueprints/multiple-services.html">
            
                <a href="../../blueprints/multiple-services.html">
            
                    
                    Multiple Services and Dependency Injection
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6" data-path="../../blueprints/custom-entities.html">
            
                <a href="../../blueprints/custom-entities.html">
            
                    
                    Custom Entities
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7" data-path="../../blueprints/catalog/">
            
                <a href="../../blueprints/catalog/">
            
                    
                    Catalog
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.7.1" data-path="../../blueprints/catalog/schema.html">
            
                <a href="../../blueprints/catalog/schema.html">
            
                    
                    Catalog Items YAML Syntax
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7.2" data-path="../../blueprints/catalog/templates.html">
            
                <a href="../../blueprints/catalog/templates.html">
            
                    
                    Templates and the Add-Application Wizard
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7.3" data-path="../../blueprints/catalog/versioning.html">
            
                <a href="../../blueprints/catalog/versioning.html">
            
                    
                    Versioning
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7.4" data-path="../../blueprints/catalog/management.html">
            
                <a href="../../blueprints/catalog/management.html">
            
                    
                    Catalog Management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7.5" data-path="../../blueprints/catalog/bundle.html">
            
                <a href="../../blueprints/catalog/bundle.html">
            
                    
                    Bundling
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7.6" data-path="../../blueprints/catalog/cli.html">
            
                <a href="../../blueprints/catalog/cli.html">
            
                    
                    Brooklyn Server Command Line Arguments
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.8" data-path="../../blueprints/clusters.html">
            
                <a href="../../blueprints/clusters.html">
            
                    
                    Clusters, Specs, and Composition
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.9" data-path="../../blueprints/enrichers.html">
            
                <a href="../../blueprints/enrichers.html">
            
                    
                    Enrichers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.10" data-path="../../blueprints/policies.html">
            
                <a href="../../blueprints/policies.html">
            
                    
                    Policies
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.11" data-path="../../blueprints/effectors.html">
            
                <a href="../../blueprints/effectors.html">
            
                    
                    Effectors
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.12" data-path="../../blueprints/clusters-and-policies.html">
            
                <a href="../../blueprints/clusters-and-policies.html">
            
                    
                    Clusters and Policies
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.13" data-path="../../blueprints/java/">
            
                <a href="../../blueprints/java/">
            
                    
                    Java Entities
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.13.1" data-path="../../blueprints/java/archetype.html">
            
                <a href="../../blueprints/java/archetype.html">
            
                    
                    Creating from a Maven Archetype
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.13.2" data-path="../../blueprints/java/defining-and-deploying.html">
            
                <a href="../../blueprints/java/defining-and-deploying.html">
            
                    
                    Defining and Deploying
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.13.3" data-path="../../blueprints/java/bundle-dependencies.html">
            
                <a href="../../blueprints/java/bundle-dependencies.html">
            
                    
                    Handling Bundle Dependencies
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.13.4" data-path="../../blueprints/java/topology-dependencies.html">
            
                <a href="../../blueprints/java/topology-dependencies.html">
            
                    
                    Topology, Dependencies, and Management Policies
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.13.5" data-path="../../blueprints/java/common-usage.html">
            
                <a href="../../blueprints/java/common-usage.html">
            
                    
                    Common Classes and Entities
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.13.6" data-path="../../blueprints/java/feeds.html">
            
                <a href="../../blueprints/java/feeds.html">
            
                    
                    Feeds
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.13.7" data-path="../../blueprints/java/entity.html">
            
                <a href="../../blueprints/java/entity.html">
            
                    
                    Writing an Entity
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.13.8" data-path="../../blueprints/java/entities.html">
            
                <a href="../../blueprints/java/entities.html">
            
                    
                    Custom Entity Development
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.13.9" data-path="../../blueprints/java/service-state.html">
            
                <a href="../../blueprints/java/service-state.html">
            
                    
                    Service State
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.13.10" data-path="../../blueprints/java/entitlements.html">
            
                <a href="../../blueprints/java/entitlements.html">
            
                    
                    Entitlements
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.14" data-path="../../blueprints/winrm/">
            
                <a href="../../blueprints/winrm/">
            
                    
                    Windows Blueprints
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.14.1" data-path="../../blueprints/winrm/client.html">
            
                <a href="../../blueprints/winrm/client.html">
            
                    
                    Winrm4j Client
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.15" data-path="../../blueprints/test/">
            
                <a href="../../blueprints/test/">
            
                    
                    Testing YAML Blueprints
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.15.1" data-path="../../blueprints/test/test-entities.html">
            
                <a href="../../blueprints/test/test-entities.html">
            
                    
                    Test Entities
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.15.2" data-path="../../blueprints/test/usage-examples.html">
            
                <a href="../../blueprints/test/usage-examples.html">
            
                    
                    Example Tests
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.16" data-path="../../blueprints/ansible/">
            
                <a href="../../blueprints/ansible/">
            
                    
                    Ansible in YAML Blueprints
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.16.1" data-path="../../blueprints/ansible/about-ansible.html">
            
                <a href="../../blueprints/ansible/about-ansible.html">
            
                    
                    About Ansible
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.16.2" data-path="../../blueprints/ansible/creating-ansible-blueprints.html">
            
                <a href="../../blueprints/ansible/creating-ansible-blueprints.html">
            
                    
                    Creating Blueprints with Ansible
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.17" data-path="../../blueprints/chef/">
            
                <a href="../../blueprints/chef/">
            
                    
                    Chef in YAML Blueprints
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.17.1" data-path="../../blueprints/chef/about-chef.html">
            
                <a href="../../blueprints/chef/about-chef.html">
            
                    
                    About Chef
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.17.2" data-path="../../blueprints/chef/creating-blueprints.html">
            
                <a href="../../blueprints/chef/creating-blueprints.html">
            
                    
                    Creating Blueprints from Chef
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.17.3" data-path="../../blueprints/chef/writing-chef.html">
            
                <a href="../../blueprints/chef/writing-chef.html">
            
                    
                    Writing Chef for Blueprints
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.17.4" data-path="../../blueprints/chef/advanced-chef-integration.html">
            
                <a href="../../blueprints/chef/advanced-chef-integration.html">
            
                    
                    Advanced Chef Integration
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.18" data-path="../../blueprints/salt/">
            
                <a href="../../blueprints/salt/">
            
                    
                    Salt in YAML Blueprints
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.18.1" data-path="../../blueprints/salt/about-salt.html">
            
                <a href="../../blueprints/salt/about-salt.html">
            
                    
                    About Salt
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.18.2" data-path="../../blueprints/salt/creating-salt-blueprints.html">
            
                <a href="../../blueprints/salt/creating-salt-blueprints.html">
            
                    
                    Creating Blueprints with Salt
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.19" data-path="../../blueprints/advanced-example.html">
            
                <a href="../../blueprints/advanced-example.html">
            
                    
                    YAML Blueprint Advanced Example
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.20" data-path="../../blueprints/blueprinting-tips.html">
            
                <a href="../../blueprints/blueprinting-tips.html">
            
                    
                    Blueprinting Tips
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.21" data-path="../../blueprints/yaml-reference.html">
            
                <a href="../../blueprints/yaml-reference.html">
            
                    
                    YAML Blueprint Reference
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../../locations/">
            
                <a href="../../locations/">
            
                    
                    Deploying Blueprint
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../../locations/">
            
                <a href="../../locations/#clouds">
            
                    
                    Clouds
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../../locations/">
            
                <a href="../../locations/#amazon-web-services-aws">
            
                    
                    Amazon Web Services
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="../../locations/">
            
                <a href="../../locations/#azure-compute-arm">
            
                    
                    Azure Compute ARM
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="../../locations/">
            
                <a href="../../locations/#azure-compute-classic">
            
                    
                    Azure Compute Classic
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.5" data-path="../../locations/">
            
                <a href="../../locations/#apache-cloudstack">
            
                    
                    Apache CloudStack
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.6" data-path="../../locations/">
            
                <a href="../../locations/#google-compute-engine-gce">
            
                    
                    Google Compute Engine
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.7" data-path="../../locations/">
            
                <a href="../../locations/#ibm-softlayer">
            
                    
                    IBM Softlayer
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.8" data-path="../../locations/">
            
                <a href="../../locations/#openstack">
            
                    
                    OpenStack
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.9" data-path="../../locations/">
            
                <a href="../../locations/#named-locations">
            
                    
                    Named Locations
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.10" data-path="../../locations/">
            
                <a href="../../locations/#inheritance-and-named-locations">
            
                    
                    Provisioned Machine Requirements
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.11" data-path="../../locations/">
            
                <a href="../../locations/#byon">
            
                    
                    BYON
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.12" data-path="../../locations/">
            
                <a href="../../locations/#ssh-keys">
            
                    
                    SSH Keys
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.13" data-path="../../locations/">
            
                <a href="../../locations/#localhost">
            
                    
                    Localhost
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.14" data-path="../../locations/">
            
                <a href="../../locations/#location-customizers">
            
                    
                    Location Customizers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.15" data-path="../../locations/">
            
                <a href="../../locations/#customizing-cloud-security-groups">
            
                    
                    Customizing Cloud Security Groups
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.16" data-path="../../locations/">
            
                <a href="../../locations/#specialized-locations">
            
                    
                    Specialized Locations
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../">
            
                <a href="../">
            
                    
                    Reference Guide
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../production-installation.html">
            
                <a href="../production-installation.html">
            
                    
                    Production Installation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="../starting-stopping-monitoring.html">
            
                <a href="../starting-stopping-monitoring.html">
            
                    
                    Starting, Stopping and Monitoring
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="../server-cli-reference.html">
            
                <a href="../server-cli-reference.html">
            
                    
                    Server CLI Reference
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.4" data-path="./">
            
                <a href="./">
            
                    
                    Client CLI Reference
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.4.1" data-path="cli-ref-guide.html">
            
                <a href="cli-ref-guide.html">
            
                    
                    CLI Reference Guide
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.7.4.2" data-path="cli-usage-guide.html">
            
                <a href="cli-usage-guide.html">
            
                    
                    CLI Usage Guide
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7.5" data-path="../gui/">
            
                <a href="../gui/">
            
                    
                    GUI Guide
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.5.1" data-path="../gui/running.html">
            
                <a href="../gui/running.html">
            
                    
                    Launching
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.5.2" data-path="../gui/blueprints.html">
            
                <a href="../gui/blueprints.html">
            
                    
                    Deploying Blueprints
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.5.3" data-path="../gui/managing.html">
            
                <a href="../gui/managing.html">
            
                    
                    Monitoring and Managing Applications
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.5.4" data-path="../gui/policies.html">
            
                <a href="../gui/policies.html">
            
                    
                    Using Policies
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7.6" data-path="../rest.html">
            
                <a href="../rest.html">
            
                    
                    REST API
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.7" data-path="../configuration/">
            
                <a href="../configuration/">
            
                    
                    Configuring Brooklyn
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.7.1" data-path="../configuration/">
            
                <a href="../configuration/#memory-usage">
            
                    
                    Memory Usage
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.7.2" data-path="../configuration/">
            
                <a href="../configuration/#authentication-and-security">
            
                    
                    Authentication
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.7.3" data-path="../configuration/brooklyn_cfg.html">
            
                <a href="../configuration/brooklyn_cfg.html">
            
                    
                    brooklyn.cfg
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.7.4" data-path="../configuration/https.html">
            
                <a href="../configuration/https.html">
            
                    
                    HTTPS Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.7.5" data-path="../configuration/cors.html">
            
                <a href="../configuration/cors.html">
            
                    
                    CORS Configuration
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7.8" data-path="../persistence/">
            
                <a href="../persistence/">
            
                    
                    Persistence
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.9" data-path="../high-availability/">
            
                <a href="../high-availability/">
            
                    
                    High Availability
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.9.1" data-path="../high-availability/high-availability-supplemental.html">
            
                <a href="../high-availability/high-availability-supplemental.html">
            
                    
                    Configuring HA - an example
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7.10" data-path="../logging.html">
            
                <a href="../logging.html">
            
                    
                    Logging
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.11" data-path="../externalized-configuration.html">
            
                <a href="../externalized-configuration.html">
            
                    
                    Externalized Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.12" data-path="../requirements.html">
            
                <a href="../requirements.html">
            
                    
                    Requirements
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.13" data-path="../upgrade.html">
            
                <a href="../upgrade.html">
            
                    
                    Upgrade
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.14" data-path="../security-guidelines.html">
            
                <a href="../security-guidelines.html">
            
                    
                    Security Guidelines
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.15" data-path="../troubleshooting/">
            
                <a href="../troubleshooting/">
            
                    
                    Troubleshooting
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.15.1" data-path="../troubleshooting/overview.html">
            
                <a href="../troubleshooting/overview.html">
            
                    
                    Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.15.2" data-path="../troubleshooting/web-console-issues.html">
            
                <a href="../troubleshooting/web-console-issues.html">
            
                    
                    Web Console Issues
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.15.3" data-path="../troubleshooting/deployment.html">
            
                <a href="../troubleshooting/deployment.html">
            
                    
                    Deployment
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.15.4" data-path="../troubleshooting/connectivity.html">
            
                <a href="../troubleshooting/connectivity.html">
            
                    
                    Server Connectivity
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.15.5" data-path="../troubleshooting/slow-unresponsive.html">
            
                <a href="../troubleshooting/slow-unresponsive.html">
            
                    
                    Brooklyn Slow or Unresponsive
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.15.6" data-path="../troubleshooting/increase-entropy.html">
            
                <a href="../troubleshooting/increase-entropy.html">
            
                    
                    Increase Entropy
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.15.7" data-path="../troubleshooting/increase-system-resource-limits.html">
            
                <a href="../troubleshooting/increase-system-resource-limits.html">
            
                    
                    Increase System Resource Limits
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.15.8" data-path="../troubleshooting/detailed-support-report.html">
            
                <a href="../troubleshooting/detailed-support-report.html">
            
                    
                    Detailed Support Report
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.15.9" data-path="../troubleshooting/softwareprocess.html">
            
                <a href="../troubleshooting/softwareprocess.html">
            
                    
                    SoftwareProcess Entities
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.15.10" data-path="../troubleshooting/going-deep-in-java-and-logs.html">
            
                <a href="../troubleshooting/going-deep-in-java-and-logs.html">
            
                    
                    Going Deep in Java and Logs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.15.11" data-path="../troubleshooting/memory-usage.html">
            
                <a href="../troubleshooting/memory-usage.html">
            
                    
                    Monitoring Memory Usage
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../../misc/">
            
                <a href="../../misc/">
            
                    
                    Other 0.12.0 Resources
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="../../GLOSSARY.html">
            
                <a href="../../GLOSSARY.html">
            
                    
                    Glossary
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" >
            
                <a target="_blank" href="https://brooklyn.apache.org/meta/versions.html">
            
                    
                    Versions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="../../misc/release-notes.html">
            
                <a href="../../misc/release-notes.html">
            
                    
                    Release Notes
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">Developer Guide</li>
        
        
    
        <li class="chapter " data-level="2.1" >
            
                <a target="_blank" href="https://brooklyn.apache.org/developers/code/">
            
                    
                    Get the Code
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="../../dev/env/maven-build.html">
            
                <a href="../../dev/env/maven-build.html">
            
                    
                    Maven Build
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="../../dev/env/ide/">
            
                <a href="../../dev/env/ide/">
            
                    
                    IDE Setup
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="../../dev/code/structure.html">
            
                <a href="../../dev/code/structure.html">
            
                    
                    Code Structure
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.5" data-path="../../dev/code/tests.html">
            
                <a href="../../dev/code/tests.html">
            
                    
                    Tests
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.6" data-path="../../dev/code/licensing.html">
            
                <a href="../../dev/code/licensing.html">
            
                    
                    License Considerations
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.7" data-path="../../dev/tips/">
            
                <a href="../../dev/tips/">
            
                    
                    Miscellaneous Tips and Tricks
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.8" data-path="../../dev/tips/logging.html">
            
                <a href="../../dev/tips/logging.html">
            
                    
                    Logging
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.9" data-path="../../dev/tips/debugging-remote-brooklyn.html">
            
                <a href="../../dev/tips/debugging-remote-brooklyn.html">
            
                    
                    Brooklyn Remote Debugging
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.10" >
            
                <a target="_blank" href="http://github.com/apache/brooklyn">
            
                    
                    GitHub
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.11" >
            
                <a target="_blank" href="https://brooklyn.apache.org/v/latest/misc/javadoc">
            
                    
                    Javadoc
            
                </a>
            

            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="3.1" >
            
                <a target="_blank" href="https://brooklyn.apache.org/documentation/other-docs.html">
            
                    
                    Other Resources
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >CLI Usage Guide</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="cli-usage-guide">CLI Usage Guide</h1>
<p>This document provides a brief overview of using the most common Brooklyn CLI commands,
by using the CLI to deploy an application then examine various aspects of it.</p>
<p>The <a href="../../GLOSSARY.html#yaml" class="glossary-term" title="A human-readable data format. See the Wikipedia article for more information.">YAML</a> <a href="../../GLOSSARY.html#blueprint" class="glossary-term" title="A description of an application or system, which can be used for its automated
deployment and runtime management. The blueprint describes a model of the
application (i.e. its components, their configuration, and their
relationships), along with policies for runtime management. The blueprint can
be described in YAML or Java.">blueprint</a> for the application that will be deployed is shown at the end of this document.</p>
<p><strong>NOTE:</strong> In the sample output, some additional line-wrapping has been used to aid readabilty. Additionally, the 
vertical bar character is omitted from table output for readability.  For scripting purposes it can be useful in
conjunction with a shell pipeline like <code>some_command | cut -f 1 -d &apos;|&apos; | xargs -L1 some_other_command</code>.</p>
<h2 id="login">Login</h2>
<p>First, login to the running Brooklyn server.  This example assumes that the Brooklyn server
is running on <code>localhost</code>; change the URL and credentials as necessary.</p>
<pre><code class="lang-text">$ br login http://localhost:8081 admin
Enter Password: *
Connected to Brooklyn version 0.9.0-SNAPSHOT at http://localhost:8081
</code></pre>
<p>The version of the connected Brooklyn server may be viewed with the <code>version</code> command:</p>
<pre><code class="lang-text">$ br version
0.9.0-SNAPSHOT
</code></pre>
<h2 id="applications">Applications</h2>
<p>Deploy the application; on success the Id of the new application is displayed:</p>
<pre><code class="lang-text">$ br deploy webapp-policy.yaml
Id:       lmOcZbsT   
Name:     WebCluster   
Status:   In progress
</code></pre>
<p>The <code>application</code> command can be used to list a summary of all the running applications.
After all of the entities have been started, the application status changes to <code>RUNNING</code>:</p>
<pre><code class="lang-text">$ br application
Id         Name         Status    Location   
YeEQHwgW   AppCluster   RUNNING   CNTBOtjI
lmOcZbsT   WebCluster   RUNNING   CNTBOtjI
</code></pre>
<p>Further details of an application can be seen by using the ApplicationID or Name as a
parameter for the <code>application</code> command:</p>
<pre><code class="lang-text">$ br application WebCluster
Id:              lmOcZbsT   
Name:            WebCluster   
Status:          RUNNING   
ServiceUp:       true   
Type:            org.apache.brooklyn.entity.stock.BasicApplication   
CatalogItemId:   null   
LocationId:      CNTBOtjI   
LocationName:    FixedListMachineProvisioningLocation:CNTB   
LocationSpec:    byon   
LocationType:    org.apache.brooklyn.location.byon.FixedListMachineProvisioningLocation
</code></pre>
<p>The configuration details of an application can be seen with the <code>config</code> command:</p>
<pre><code class="lang-text">$ br application WebCluster config
Key                    Value   
camp.template.id       TYWVroRz   
brooklyn.wrapper_app   true
</code></pre>
<h2 id="entities">Entities</h2>
<p>The entities of an application can be viewed with the <code>entity</code> command:</p>
<pre><code class="lang-text">$ br app WebCluster entity
Id        Name    Type   
xOcMooka  WebApp  org.apache.brooklyn.entity.webapp.ControlledDynamicWebAppCluster
thHnLFkP  WebDB   org.apache.brooklyn.entity.database.mysql.MySqlNode
</code></pre>
<p>It is common for an <a href="../../GLOSSARY.html#entity" class="glossary-term" title="A component of an application or system. This could be a physical component, a
service, a grouping of components, or a logical construct describing part of an
application/system. It is a &quot;managed element&quot; in autonomic computing parlance.">entity</a> to have child entities; these can be listed by providing an
<a href="../../GLOSSARY.html#entity" class="glossary-term" title="A component of an application or system. This could be a physical component, a
service, a grouping of components, or a logical construct describing part of an
application/system. It is a &quot;managed element&quot; in autonomic computing parlance.">entity</a>-scope for the <code>entity</code> command:</p>
<pre><code class="lang-text">$ br app WebCluster entity WebApp entity
Id         Name                     Type   
e5pWAiHf   Cluster of TomcatServer  org.apache.brooklyn.entity.webapp.DynamicWebAppCluster   
CZ8QUVgX   NginxController:CZ8Q     org.apache.brooklyn.entity.proxy.nginx.NginxController
</code></pre>
<p>or by using <code>-c</code> (or <code>--children</code>) flag with the <code>entity</code> command:</p>
<pre><code class="lang-text">$ br app WebCluster entity -c e5pWAiHf
Id         Name               Type   
x0P2LRxZ   quarantine         org.apache.brooklyn.entity.group.QuarantineGroup   
QK6QjmrW   TomcatServer:QK6Q  org.apache.brooklyn.entity.webapp.tomcat.TomcatServer
</code></pre>
<p>As for applications, the configuration details of an <a href="../../GLOSSARY.html#entity" class="glossary-term" title="A component of an application or system. This could be a physical component, a
service, a grouping of components, or a logical construct describing part of an
application/system. It is a &quot;managed element&quot; in autonomic computing parlance.">entity</a> can be seen with the <code>config</code>
command:</p>
<pre><code class="lang-text">$ br app WebCluster entity thHnLFkP config
Key                             Value   
install.unique_label            MySqlNode_5.6.26   
brooklyn.wrapper_app            true   
datastore.creation.script.url   https://bit.ly/brooklyn-visitors-creation-script   
camp.template.id                dnw3GqN0   
camp.plan.id                    db   
onbox.base.dir                  /home/vagrant/brooklyn-managed-processes   
onbox.base.dir.resolved         true
</code></pre>
<p>The value of a single configuration item can be displayed by using the configuration key
as a parameter for the <code>config</code> command:</p>
<pre><code class="lang-text">$ br app WebCluster entity thHnLFkP config datastore.creation.script.url
https://bit.ly/brooklyn-visitors-creation-script
</code></pre>
<p>The value of a configuration item can be changed by using the <code>set</code> command:</p>
<pre><code class="lang-text">$ br app WebCluster entity thHnLFkP config datastore.creation.script.url set \&quot;https://bit.ly/new-script\&quot;
</code></pre>
<h2 id="sensors">Sensors</h2>
<p>The sensors associated with an application or <a href="../../GLOSSARY.html#entity" class="glossary-term" title="A component of an application or system. This could be a physical component, a
service, a grouping of components, or a logical construct describing part of an
application/system. It is a &quot;managed element&quot; in autonomic computing parlance.">entity</a> can be listed with the <code>sensor</code> command:</p>
<pre><code class="lang-text">$ br app WebCluster entity CZ8QUVgX sensor
Name                                    Value
download.addon.urls:                    {&quot;stickymodule&quot;:&quot;https://bitbucket.org/nginx-goodies/n  
                                        ginx-sticky-module-ng/get/${addonversion}.tar.gz&quot;,&quot;pcr  
                                        e&quot;:&quot;ftp://ftp.csx.cam.ac.uk/pub/software/programming/p  
                                        cre/pcre-${addonversion}.tar.gz&quot;}
download.url:                           http://nginx.org/download/nginx-${version}.tar.gz
expandedinstall.dir:                    /home/vagrant/brooklyn-managed-processes/installs/Ngi  
                                        nxController_1.8.0/nginx-1.8.0
host.address:                           192.168.52.102
host.name:                              192.168.52.102
host.sshAddress:                        vagrant@192.168.52.102:22
host.subnet.address:                    192.168.52.102
host.subnet.hostname:                   192.168.52.102
http.port:                              8000
install.dir:                            /home/vagrant/brooklyn-managed-processes/installs/Ngin  
                                        xController_1.8.0
log.location:                           /home/vagrant/brooklyn-managed-processes/apps/FoEXXwJ2  
                                        /entities/NginxController_CZ8QUVgX/console
main.uri:                               http://192.168.52.102:8000/
member.sensor.hostandport:
member.sensor.hostname:                 {&quot;typeToken&quot;:null,&quot;type&quot;:&quot;java.lang.String&quot;,&quot;name&quot;:&quot;ho  
                                        st.subnet.hostname&quot;,&quot;description&quot;:&quot;Host name as known   
                                        internally in the subnet where it is running (if diffe  
                                        rent to host.name)&quot;,&quot;persistence&quot;:&quot;REQUIRED&quot;}
member.sensor.portNumber:               {&quot;typeToken&quot;:null,&quot;type&quot;:&quot;java.lang.Integer&quot;,&quot;name&quot;:&quot;h  
                                        ttp.port&quot;,&quot;description&quot;:&quot;HTTP port&quot;,&quot;persistence&quot;:&quot;RE  
                                        QUIRED&quot;,&quot;configKey&quot;:{&quot;name&quot;:&quot;http.port&quot;,&quot;typeToken&quot;:nu  
                                        ll,&quot;type&quot;:&quot;org.apache.brooklyn.api.location.PortRange&quot;  
                                        ,&quot;description&quot;:&quot;HTTP port&quot;,&quot;defaultValue&quot;:{&quot;ranges&quot;:[{  
                                        &quot;port&quot;:8080},{&quot;start&quot;:18080,&quot;end&quot;:65535,&quot;delta&quot;:1}]},&quot;  
                                        reconfigurable&quot;:false,&quot;inheritance&quot;:null,&quot;constraint&quot;:  
                                        &quot;ALWAYS_TRUE&quot;}}
nginx.log.access:                       /home/vagrant/brooklyn-managed-processes/apps/FoEXXwJ2  
                                        /entities/NginxController_CZ8QUVgX/logs/access.log
nginx.log.error:                        /home/vagrant/brooklyn-managed-processes/apps/FoEXXwJ2  
                                        /entities/NginxController_CZ8QUVgX/logs/error.log
nginx.pid.file:                         /home/vagrant/brooklyn-managed-processes/apps/FoEXXwJ2  
                                        /entities/NginxController_CZ8QUVgX/pid.txt
nginx.url.answers.nicely:               true
proxy.domainName:
proxy.http.port:                        8000
proxy.https.port:                       8443
proxy.protocol:                         http
proxy.serverpool.targets:               {&quot;TomcatServerImpl{id=QK6QjmrW}&quot;:&quot;192.168.52.103:8080&quot;}
run.dir:                                /home/vagrant/brooklyn-managed-processes/apps/FoEXXwJ2  
                                        /entities/NginxController_CZ8QUVgX
service.isUp:                           true
service.notUp.diagnostics:              {}
service.notUp.indicators:               {}
service.problems:                       {}
service.process.isRunning:              true
service.state:                          RUNNING
service.state.expected:                 running @ 1449314377781 / Sat Dec 05 11:19:37 GMT 2015
softwareprocess.pid.file:
softwareservice.provisioningLocation:   {&quot;type&quot;:&quot;org.apache.brooklyn.api.location.Location&quot;,&quot;i  
                                        d&quot;:&quot;zhYBc6xt&quot;}
webapp.url:                             http://192.168.52.102:8000/
</code></pre>
<p>Details for an individual <a href="../../GLOSSARY.html#sensor" class="glossary-term" title="A sensor is a property, or attribute of an Apache Brooklyn entity, updated in real-time.">sensor</a> can be shown by providing the <a href="../../GLOSSARY.html#sensor" class="glossary-term" title="A sensor is a property, or attribute of an Apache Brooklyn entity, updated in real-time.">Sensor</a> Name as a
parameter to the <code>sensor</code> command:</p>
<pre><code class="lang-text">$ br app WebCluster entity CZ8QUVgX sensor service.state.expected
running @ 1449314377781 / Sat Dec 05 11:19:37 GMT 2015
</code></pre>
<h2 id="effectors">Effectors</h2>
<p>The effectors for an application or <a href="../../GLOSSARY.html#entity" class="glossary-term" title="A component of an application or system. This could be a physical component, a
service, a grouping of components, or a logical construct describing part of an
application/system. It is a &quot;managed element&quot; in autonomic computing parlance.">entity</a> can be listed with the <code>effector</code> command:</p>
<pre><code class="lang-text">$ br app WebCluster effector
Name      Description                                            Parameters   
restart   Restart the process/service represented by an entity      
start     Start the process/service represented by an entity     locations   
stop      Stop the process/service represented by an entity
</code></pre>
<pre><code class="lang-text">$ br app WebCluster entity NginxController:CZ8Q effector
Name                              Description                     Parameters   
deploy                            Deploys an archive ...
getCurrentConfiguration           Gets the current ...      
populateServiceNotUpDiagnostics   Populates the attribute ...
reload                            Forces reload of ...  
restart                           Restart the process/service ... restartChildren,restartMachine
start                             Start the process/service ...   locations
stop                              Stop the process/service ...    stopProcessMode,stopMachineMode
update                            Updates the entities ...
</code></pre>
<p>Details of an individual <a href="../../GLOSSARY.html#effector" class="glossary-term" title="Effectors are tools Apache Brooklyn provides, that allow you to manipulate the live entities within an application.
They are operations applied on entities.">effector</a> can be viewed by using the name as a parameter for
the <code>effector</code> command:</p>
<pre><code class="lang-text">$ br app WebCluster entity NginxController:CZ8Q effector update
Name:         update
Description:  Updates the entities configuration, and then forces reload of that configuration
Parameters:
</code></pre>
<p>An <a href="../../GLOSSARY.html#effector" class="glossary-term" title="Effectors are tools Apache Brooklyn provides, that allow you to manipulate the live entities within an application.
They are operations applied on entities.">effector</a> can be invoked by using the <code>invoke</code> command with an <a href="../../GLOSSARY.html#effector" class="glossary-term" title="Effectors are tools Apache Brooklyn provides, that allow you to manipulate the live entities within an application.
They are operations applied on entities.">effector</a>-scope:</p>
<pre><code class="lang-text">$ br app WebCluster entity NginxController:CZ8Q effector update invoke
</code></pre>
<p>Parameters can also be passed to the <a href="../../GLOSSARY.html#effector" class="glossary-term" title="Effectors are tools Apache Brooklyn provides, that allow you to manipulate the live entities within an application.
They are operations applied on entities.">effector</a>:</p>
<pre><code class="lang-text">$ br app WebCluster entity NginxController:CZ8Q effector restart invoke -P restartChildren=true
</code></pre>
<p>If a parameter value is complex or spans multiple lines, it may be provided in a file and used like this:</p>
<pre><code class="lang-text">$ br app WebCluster effector start invoke -P locations=@data.txt
</code></pre>
<p>Shortcut commands are available for the 3 standard effectors of <code>start</code>, <code>restart</code> and <code>stop</code>.
These commands can be used directly with an app-scope or <a href="../../GLOSSARY.html#entity" class="glossary-term" title="A component of an application or system. This could be a physical component, a
service, a grouping of components, or a logical construct describing part of an
application/system. It is a &quot;managed element&quot; in autonomic computing parlance.">entity</a>-scope:</p>
<pre><code class="lang-text">$ br app WebCluster entity NginxController:CZ8Q restart
$ br app WebCluster stop
</code></pre>
<h2 id="policies">Policies</h2>
<p>The policies associated with an application or <a href="../../GLOSSARY.html#entity" class="glossary-term" title="A component of an application or system. This could be a physical component, a
service, a grouping of components, or a logical construct describing part of an
application/system. It is a &quot;managed element&quot; in autonomic computing parlance.">entity</a> can be listed with the <code>policy</code> command:</p>
<pre><code class="lang-text">$ br app WebCluster entity NginxController:CZ8Q policy
Id         Name                         State   
VcZ0cfeO   Controller targets tracker   RUNNING
</code></pre>
<p>Details of an individual <a href="../../GLOSSARY.html#policy" class="glossary-term" title="Part of an autonomic management system, performing runtime management. A policy
is associated with an entity; it normally manages the health of that entity
or an associated group of entities (e.g. HA policies or auto-scaling policies).
A policy performs actions on entities, based on their sensor values and policy configuration.">policy</a> may be viewed by using the PolicyID as a parameter to
the <code>policy</code> command:</p>
<pre><code class="lang-text">$ br app WebCluster entity NginxController:CZ8Q policy VcZ0cfeO
Name                 Value                                    Description   
group                DynamicWebAppClusterImpl{id=TpbkaK4D}    group   
notifyOnDuplicates   false                                    Whether to notify listeners when
                                                              a sensor is published with the
                                                              same value as last time   
sensorsToTrack       [Sensor: host.subnet.hostname            Sensors of members to be monitored
                     (java.lang.String), Sensor: http.port    (implicitly adds service-up
                     (java.lang.Integer)]                     to this list, but that
                                                              behaviour may be deleted in a
                                                              subsequent release!)
</code></pre>
<h2 id="activities">Activities</h2>
<p>The activities for an application or <a href="../../GLOSSARY.html#entity" class="glossary-term" title="A component of an application or system. This could be a physical component, a
service, a grouping of components, or a logical construct describing part of an
application/system. It is a &quot;managed element&quot; in autonomic computing parlance.">entity</a> may be listed with the <code>activity</code> command:</p>
<pre><code class="lang-text">$ br app WebCluster activity
Id         Task                                   Submitted                      Status      Streams   
Wb6GV5rt   start                                  Sat Dec 19 11:08:01 GMT 2015   Completed      
q2MbyyTo   invoking start[locations] on 2 nodes   Sat Dec 19 11:08:01 GMT 2015   Completed
</code></pre>
<pre><code class="lang-text">$ br app WebCluster entity NginxController:CZ8Q activity
Id         Task                                       Submitted                      Status      Streams   
GVh0pyKG   start                                      Sun Dec 20 19:18:06 GMT 2015   Completed          
WJm908rA   provisioning (FixedListMachineProvisi...   Sun Dec 20 19:18:06 GMT 2015   Completed          
L0cKFBrW   pre-start                                  Sun Dec 20 19:18:06 GMT 2015   Completed              
D0Ab2esP   ssh: initializing on-box base dir ./b...   Sun Dec 20 19:18:06 GMT 2015   Completed   env,stderr,stdin,stdout
tumLAdo4   start (processes)                          Sun Dec 20 19:18:06 GMT 2015   Completed                  
YbF2czKM   copy-pre-install-resources                 Sun Dec 20 19:18:06 GMT 2015   Completed                                     
o3YdqxsQ   pre-install                                Sun Dec 20 19:18:06 GMT 2015   Completed                 
TtGw4qMZ   pre-install-command                        Sun Dec 20 19:18:06 GMT 2015   Completed        
duPvOSDB   setup                                      Sun Dec 20 19:18:06 GMT 2015   Completed       
WLtkbhgW   copy-install-resources                     Sun Dec 20 19:18:06 GMT 2015   Completed           
ZQtrImnl   install                                    Sun Dec 20 19:18:06 GMT 2015   Completed           
hzi49YD6   ssh: setting up sudo                       Sun Dec 20 19:18:06 GMT 2015   Completed   env,stderr,stdin,stdout
eEUHcpfi   ssh: Getting machine details for: Ssh...   Sun Dec 20 19:18:07 GMT 2015   Completed   env,stderr,stdin,stdout
juTe2qLG   ssh: installing NginxControllerImpl{i...   Sun Dec 20 19:18:08 GMT 2015   Completed   env,stderr,stdin,stdout
hXqwEZJl   post-install-command                       Sun Dec 20 19:18:08 GMT 2015   Completed          
vZliYwBI   customize                                  Sun Dec 20 19:18:08 GMT 2015   Completed            
O4Wwb0bP   ssh: customizing NginxControllerImpl{...   Sun Dec 20 19:18:08 GMT 2015   Completed   env,stderr,stdin,stdout
sDwMSkE2   copy-runtime-resources                     Sun Dec 20 19:18:08 GMT 2015   Completed         
yDYkdkS8   ssh: create run directory                  Sun Dec 20 19:18:08 GMT 2015   Completed   env,stderr,stdin,stdout
W7dI8r1c   pre-launch-command                         Sun Dec 20 19:18:08 GMT 2015   Completed           
OeZKwM5z   launch                                     Sun Dec 20 19:18:08 GMT 2015   Completed          
y50Gne5E   scheduled:nginx.url.answers.nicely @ ...   Sun Dec 20 19:18:08 GMT 2015   Scheduler,      
ARTninGE   scheduled:service.process.isRunning @...   Sun Dec 20 19:18:08 GMT 2015   Scheduler,      
tvZoNUTN   ssh: launching NginxControllerImpl{id...   Sun Dec 20 19:18:08 GMT 2015   Completed   env,stderr,stdin,stdout
YASrjA4w   post-launch-command                        Sun Dec 20 19:18:09 GMT 2015   Completed             
jgLYv8pE   post-launch                                Sun Dec 20 19:18:09 GMT 2015   Completed          
UN9OcWLS   post-start                                 Sun Dec 20 19:18:09 GMT 2015   Completed           
nmiv97He   reload                                     Sun Dec 20 19:18:09 GMT 2015   Completed            
FJfPbNtp   ssh: restarting NginxControllerImpl{i...   Sun Dec 20 19:18:10 GMT 2015   Completed   env,stderr,stdin,stdout
Xm1tjvKf   update                                     Sun Dec 20 19:18:40 GMT 2015   Completed        
Row67vfa   reload                                     Sun Dec 20 19:18:40 GMT 2015   Completed           
r8QZXlxJ   ssh: restarting NginxControllerImpl{i...   Sun Dec 20 19:18:40 GMT 2015   Completed   env,stderr,stdin,stdout
</code></pre>
<p>The detail for an individual activity can be viewed by providing the ActivityID as a
parameter to the <code>activity</code> command (an app-scope or <a href="../../GLOSSARY.html#entity" class="glossary-term" title="A component of an application or system. This could be a physical component, a
service, a grouping of components, or a logical construct describing part of an
application/system. It is a &quot;managed element&quot; in autonomic computing parlance.">entity</a>-scope is not not needed for viewing
the details of an activity):</p>
<pre><code class="lang-text">$ br activity tvZoNUTN
Id:                  tvZoNUTN   
DisplayName:         ssh: launching NginxControllerImpl{id=OxPUBk1p}   
Description:            
EntityId:            OxPUBk1p   
EntityDisplayName:   NginxController:OxPU   
Submitted:           Sun Dec 20 19:18:08 GMT 2015   
Started:             Sun Dec 20 19:18:08 GMT 2015   
Ended:               Sun Dec 20 19:18:09 GMT 2015   
CurrentStatus:       Completed   
IsError:             false   
IsCancelled:         false   
SubmittedByTask:     OeZKwM5z   
Streams:             stdin: 1133, stdout: 162, stderr: 0, env 0   
DetailedStatus:      &quot;Completed after 1.05s

Result: 0&quot;
</code></pre>
<p>The activity command output shows whether any streams were associated with it.  The streams
and environment for an activity can be viewed with the commands <code>stdin</code>, <code>stdout</code>,
<code>stderr</code> and <code>env</code>:</p>
<pre><code class="lang-text">$ br activity tvZoNUTN stdin
export RUN_DIR=&quot;/home/vagrant/brooklyn-managed-processes/apps/V5GQCpIT/entities/NginxController_OxPUBk1p&quot;
mkdir -p $RUN_DIR
cd $RUN_DIR
cd /home/vagrant/brooklyn-managed-processes/apps/V5GQCpIT/entities/NginxController_OxPUBk1p
{ which &quot;./sbin/nginx&quot; || { EXIT_CODE=$? &amp;&amp; ( echo &quot;The required executable \&quot;./sbin/nginx\&quot; does not exist&quot; | tee /dev/stderr ) &amp;&amp; exit $EXIT_CODE ; } ; }
nohup ./sbin/nginx -p /home/vagrant/brooklyn-managed-processes/apps/V5GQCpIT/entities/NginxController_OxPUBk1p/ -c conf/server.conf &gt; /home/vagrant/brooklyn-managed-processes/apps/V5GQCpIT/entities/NginxController_OxPUBk1p/console 2&gt;&amp;1 &amp;
for i in {1..10}
do
    test -f /home/vagrant/brooklyn-managed-processes/apps/V5GQCpIT/entities/NginxController_OxPUBk1p/logs/nginx.pid &amp;&amp; ps -p `cat /home/vagrant/brooklyn-managed-processes/apps/V5GQCpIT/entities/NginxController_OxPUBk1p/logs/nginx.pid` &amp;&amp; exit
    sleep 1
done
echo &quot;No explicit error launching nginx but couldn&apos;t find process by pid; continuing but may subsequently fail&quot;
cat /home/vagrant/brooklyn-managed-processes/apps/V5GQCpIT/entities/NginxController_OxPUBk1p/console | tee /dev/stderr
</code></pre>
<pre><code class="lang-text">$ br activity tvZoNUTN stdout
./sbin/nginx
  PID TTY          TIME CMD
 6178 ?        00:00:00 nginx
Executed /tmp/brooklyn-20151220-191808796-CaiI-launching_NginxControllerImpl_.sh, result 0
</code></pre>
<p>The child activities of an activity may be listed by providing an activity-scope for the
<code>activity</code> command:</p>
<pre><code class="lang-text">$ br activity OeZKwM5z
Id:                  OeZKwM5z   
DisplayName:         launch   
Description:            
EntityId:            OxPUBk1p   
EntityDisplayName:   NginxController:OxPU   
Submitted:           Sun Dec 20 19:18:08 GMT 2015   
Started:             Sun Dec 20 19:18:08 GMT 2015   
Ended:               Sun Dec 20 19:18:09 GMT 2015   
CurrentStatus:       Completed   
IsError:             false   
IsCancelled:         false   
SubmittedByTask:     tumLAdo4   
Streams:                
DetailedStatus:      &quot;Completed after 1.06s

No return value (null)&quot;

$ br activity OeZKwM5z activity
Id         Task                                       Submitted                      Status      Streams   
tvZoNUTN   ssh: launching NginxControllerImpl{id...   Sun Dec 20 19:18:08 GMT 2015   Completed   env,stderr,stdin,stdout
</code></pre>
<p>or by using the <code>-c</code> (or <code>--children</code>) flag with the <code>activity</code> command:</p>
<pre><code class="lang-text">$ br activity -c OeZKwM5z
Id         Task                                       Submitted                      Status      Streams   
tvZoNUTN   ssh: launching NginxControllerImpl{id...   Sun Dec 20 19:18:08 GMT 2015   Completed   env,stderr,stdin,stdout
</code></pre>
<h2 id="yaml-blueprint">YAML Blueprint</h2>
<p>This is the <a href="../../GLOSSARY.html#yaml" class="glossary-term" title="A human-readable data format. See the Wikipedia article for more information.">YAML</a> <a href="../../GLOSSARY.html#blueprint" class="glossary-term" title="A description of an application or system, which can be used for its automated
deployment and runtime management. The blueprint describes a model of the
application (i.e. its components, their configuration, and their
relationships), along with policies for runtime management. The blueprint can
be described in YAML or Java.">blueprint</a> used for this document, based on the <a href="../../blueprints/clusters-and-policies.html">web cluster</a> examples.</p>
<pre><code class="lang-text">name: WebCluster

location:
  byon:
    user: vagrant
    password: vagrant
    hosts:
      - 192.168.52.101
      - 192.168.52.102
      - 192.168.52.103
      - 192.168.52.104
      - 192.168.52.105

services:

- type: org.apache.brooklyn.entity.webapp.ControlledDynamicWebAppCluster
  name: WebApp
  brooklyn.config:
    wars.root: http://search.maven.org/remotecontent?filepath=org/apache/brooklyn/example/brooklyn-example-hello-world-sql-webapp/0.8.0-incubating/brooklyn-example-hello-world-sql-webapp-0.8.0-incubating.war
    java.sysprops:
      brooklyn.example.db.url: &gt;
        $brooklyn:formatString(&quot;jdbc:%s%s?user=%s&amp;password=%s&quot;,
        component(&quot;db&quot;).attributeWhenReady(&quot;datastore.url&quot;),
        &quot;visitors&quot;, &quot;brooklyn&quot;, $brooklyn:external(&quot;brooklyn-demo-sample&quot;, &quot;hidden-brooklyn-password&quot;))
  brooklyn.policies:
  - type: org.apache.brooklyn.policy.autoscaling.AutoScalerPolicy
    brooklyn.config:
      metric: webapp.reqs.perSec.windowed.perNode
      metricLowerBound: 2
      metricUpperBound: 10
      minPoolSize: 1
      maxPoolSize: 2
      resizeUpStabilizationDelay: 1m
      resizeDownStabilizationDelay: 5m

- type: org.apache.brooklyn.entity.database.mysql.MySqlNode
  id: db
  name: WebDB
  brooklyn.config:
    creation.script.password: $brooklyn:external(&quot;brooklyn-demo-sample&quot;, &quot;hidden-brooklyn-password&quot;)
    creationScriptUrl: https://bit.ly/brooklyn-visitors-creation-script
</code></pre>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            

        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"CLI Usage Guide","level":"1.7.4.2","depth":3,"next":{"title":"GUI Guide","level":"1.7.5","depth":2,"path":"ops/gui/index.md","ref":"ops/gui/index.md","articles":[{"title":"Launching","level":"1.7.5.1","depth":3,"path":"ops/gui/running.md","ref":"ops/gui/running.md","articles":[]},{"title":"Deploying Blueprints","level":"1.7.5.2","depth":3,"path":"ops/gui/blueprints.md","ref":"ops/gui/blueprints.md","articles":[]},{"title":"Monitoring and Managing Applications","level":"1.7.5.3","depth":3,"path":"ops/gui/managing.md","ref":"ops/gui/managing.md","articles":[]},{"title":"Using Policies","level":"1.7.5.4","depth":3,"path":"ops/gui/policies.md","ref":"ops/gui/policies.md","articles":[]}]},"previous":{"title":"CLI Reference Guide","level":"1.7.4.1","depth":3,"path":"ops/cli/cli-ref-guide.md","ref":"ops/cli/cli-ref-guide.md","articles":[]},"dir":"ltr"},"config":{"plugins":["include-highlight","theme-api","collapsible-chapters","bootstrap-callout","styles-less","versions","partial-summary"],"root":"./guide","styles":{"website":"website-1507894547703.css","pdf":"pdf-1507894547730.css"},"pluginsConfig":{"styles-less":{},"search":{},"collapsible-chapters":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"include-highlight":{"extensionToLanguage":{"yml":"yaml","yaml":"yaml","bom":"yaml","java":"java"}},"bootstrap-callout":{},"fontsettings":{"theme":"white","family":"sans","size":2},"highlight":{},"theme-api":{"languages":[{"lang":"vagrant","name":"Vagrant","default":true},{"lang":"centos","name":"CentOS / RHEL 7"},{"lang":"ubuntu","name":"Ubuntu / Debian"},{"lang":"osx","name":"OSX / Linux"},{"lang":"windows","name":"Windows"},{"lang":"clouds","name":"Clouds"},{"lang":"byon","name":"BYON"},{"lang":"package","name":"RPM / DEB packages"},{"lang":"tarball","name":"Tarball"}],"split":false,"theme":"light"},"partial-summary":{"depth":0},"versions":{"type":"branches","gitbookConfigURL":"https://raw.githubusercontent.com/tbouron/brooklyn-docs/experiment/gitbook/book.json","options":[{"value":"https://brooklyn.apache.org/v/latest/","text":"Latest","selected":true},{"value":"https://brooklyn.apache.org/v/0.12.0/","text":"Version 0.12.0"},{"value":"https://brooklyn.apache.org/v/0.11.0/","text":"Version 0.11.0"},{"value":"https://brooklyn.apache.org/v/0.10.0/","text":"Version 0.10.0"},{"value":"https://brooklyn.apache.org/v/0.9.0/","text":"Version 0.9.0"}]},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{"brooklyn_version":"1.0.0-SNAPSHOT","brooklyn_version_stable":"0.12.0","url":{"brooklyn_website":"https://brooklyn.apache.org","brooklyn_javadoc":"https://brooklyn.apache.org"},"url_root":"http://0.0.0.0:4000"},"gitbook":"^3.2.3"},"file":{"path":"ops/cli/cli-usage-guide.md","mtime":"2017-10-13T10:37:53.000Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2017-10-13T11:35:45.585Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>


        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-collapsible-chapters/collapsible-chapters.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-versions/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-theme-api/theme-api.js"></script>
        
    

    </body>
</html>

